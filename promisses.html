<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Arrow Function => in ES6</title>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="./bower_components/materialize/dist/css/materialize.min.css">
    <!-- Compiled and minified JavaScript -->
    <script src="./bower_components/jquery/dist/jquery.min.js"></script>
    <script src="./bower_components/materialize/dist/js/materialize.min.js"></script>

  </head>
  <body>
<div class="container">
    <div class="row">
        <div class="col s6">
          <div class="row">
            <input type="text" name="nome">
            <a class="send waves-effect waves-light btn-large">Button</a>
          </div>  
        </div>
        <div class="col s6">
          <h4 id="chips"></h4>
        </div>
      </div>
</div>

  </body>

<script type="text/javascript">

$(document).ready(function() {
  $('.send').click(function(){
      var promise = new Promise((resolve, reject) => {
        var v = parseInt ( $('input').val() );
        setTimeout(function(){
          console.log(v);
          if( v > 0 ){
            resolve( parseInt( v ) );
          }else{
            reject("Campo em branco");
          }
        },  1000);
      });
    promise.then(function(data){
        console.log('test0');
        var v = data + data;
        $("#chips").html(v);
        return v;
      })
      .then(function(data){
        console.log('test');
        var v = data + data;
        $("#chips").html(v);
        return v;
      })
      .then(function(data){
        console.log('test1');
        var next = false;
        var v = data + data;
        $("#chips").html(v);
        setTimeout(function(){
          next = true;  
        },500);
        console.log('test2');
        return v;
      })
      .then(function(data){
                console.log('test3');
        var v = data + data;
        $("#chips").html(v);
      })
      .catch(function(data){
        $("#chips").html(data);
    });
  });


})

</script>


</html>
